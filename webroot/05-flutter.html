<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Flutterのインストール | FlutterでAndroid、iPhoneアプリ開発</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/webstyle.css" />
    <link rel="next" title="Xcode" href="06-xcodes.html">
    <link rel="prev" title="バージョン管理ツールasdf" href="04-asdf.html">
    <meta name="generator" content="Re:VIEW Starter">
  </head>
  <body>
    <div class="page-outer">
      <nav class="side-content">
                <div class="rebuild">
          <a href="javascript:void(0)" onclick="rebuildAndReloadForcedly()">Rebuild and Reload</a>
        </div>
                <a class="nav-title" href="index.html">FlutterでAndroid、iPhoneアプリ開発</a>
<ul class="toc toc-1">
    <li class="toc-chapter"><a href="./00-preface.html">はじめに</a></li>
    <li class="toc-chapter"><a href="./01-whatis.html">1 Flutterとは？</a></li>
    <li class="toc-chapter"><a href="./02-instraction.html">2 Flutter開発環境の作成手順</a></li>
    <li class="toc-chapter"><a href="./03-homebrew.html">3 Homebrew</a></li>
    <li class="toc-chapter"><a href="./04-asdf.html">4 バージョン管理ツールasdf</a></li>
    <li class="toc-chapter"><a href="./05-flutter.html">5 Flutterのインストール</a></li>
    <li class="toc-chapter"><a href="./06-xcodes.html">6 Xcode</a></li>
    <li class="toc-chapter"><a href="./07-xcode.html">7 Xcodeのインストール後の確認</a></li>
    <li class="toc-chapter"><a href="./08-cocoapods.html">8 CocoaPods</a></li>
    <li class="toc-chapter"><a href="./09-androidstudio.html">9 AndroidStudio</a></li>
    <li class="toc-chapter"><a href="./10-commandlinetools.html">10 command-line toolsのインストール</a></li>
    <li class="toc-chapter"><a href="./11-startproject.html">11 プロジェクトのスタート</a></li>
    <li class="toc-chapter"><a href="./12-emulator_android.html">12 Androidエミュレータ</a></li>
    <li class="toc-chapter"><a href="./13-emulator_ios.html">13 iPhoneエミュレータ</a></li>
    <li class="toc-chapter"><a href="./14-debug.html">14 エミュレータでデバッグ</a></li>
    <li class="toc-chapter"><a href="./15-ending.html">15 おわりに</a></li>
</ul>
      </nav>
      <div class="page-inner">
        <header class="page-header">
        </header>
        <main class="page-main">
<h1 id="id_05-flutter" class="boldlines center twolines"><a id="h5"></a><span class="secno">第5章</span> <br/>Flutterのインストール</h1>
<div class="abstract">
<p>Flutterの最新版をインストールし、PC全体で最新版を使えるようにします。</p>
<p>また、2.x系の最新版もインストールし、バージョンを切り替えて使えることを確認します。</p>
</div>
<p>Flutterは、バージョンの切替ができるようにasdf経由でインストールします。先ほどインストール可能なバージョンを確認したところ最新版は「3.0.5-stable」でしたので、このバージョンを指定してインストールします。</p>
<p><br /></p>
<p>ターミナルに「asdf install flutter インストールしたいバージョン」を入力しエンターキーを押します。</p>
<div class="cmd-code">
<span class="caption">Flutterのインストール</span>
<pre class="list"> &gt; asdf install flutter 3.0.5-stable
 /Users/ユーザー名/.asdf/plugins/flutter/bin/install: line 25: jq: command not found
 /Users/ユーザー名/.asdf/plugins/flutter/bin/install: line 26: jq: command not found
 /Users/ユーザー名/.asdf/plugins/flutter/bin/install: line 27: [: -gt: unary operator expected
 Cannot find the download url for the version: 3.0.5-stable
</pre>
</div>
<p><br /></p>
<p>「jq: command not found」と表示されエラーとなりました。</p>
<p><br /></p>
<p>「jq」は何かを調べると、「Lightweight and flexible command-line JSON processor」とあり、インストール先のシステムが「intel chip」、「Apple Silicon」で処理を分ける処理で使われていました。</p>
<p><br /></p>
<p>「jq」はHomebrewでインストールできます。ターミナルに「brew intall jq」と入力しエンターキーを押します。</p>
<div class="cmd-code">
<span class="caption">jqのインストール</span>
<pre class="list"> &gt; brew install jq
</pre>
</div>
<p><br /></p>
<p>jqのインストールが完了しましたら、再度Flutter最新版のインストールを行います。</p>
<div class="cmd-code">
<span class="caption">Flutter最新版のインストール</span>
<pre class="list"> &gt; asdf install flutter 3.0.5-stable
% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
Dload  Upload   Total   Spent    Left  Speed
100 1188M  100 1188M    0     0  38.7M      0  0:00:30  0:00:30 --:--:-- 41.1M
</pre>
</div>
<p>最新版（3.0.5-stable）のインストールが完了しました。インストール完了の確認のため、インストールしたバージョンを確認します。</p>
<p><br /></p>
<p>ターミナルに「flutter --version」と入力しエンターキーを押します。</p>
<div class="cmd-code">
<span class="caption">Flutterバージョンの確認</span>
<pre class="list"> &gt; flutter --version
 No version is set for command flutter
 Consider adding one of the following versions in your config file at
 flutter 3.0.5-stable
</pre>
</div>
<p><br /></p>
<p>設定ファイルに「flutter 3.0.5-stable」を追加しなさい。と怒られました。</p>
<p><br /></p>
<p>2.x系の最新版もインストールします。</p>
<div class="cmd-code">
<span class="caption">Flutter 2.x系のインストール</span>
<pre class="list"> &gt; asdf install flutter 2.10.5-stable
 % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
 Dload  Upload   Total   Spent    Left  Speed
 100 1126M  100 1126M    0     0  30.3M      0  0:00:37  0:00:37 --:--:-- 28.7M
</pre>
</div>
<p><br /></p>
<p>同じくバージョンを確認してみます。</p>
<div class="cmd-code">
<span class="caption">Flutterバージョンの確認</span>
<pre class="list"> &gt; flutter --version
 No version is set for command flutter
 Consider adding one of the following versions in your config file at
 flutter 3.0.5-stable
 flutter 2.10.5-stable
</pre>
</div>
<p><br /></p>
<p>今回も設定ファイルにバージョンを追加しなさいと怒られました。</p>
<p><br /></p>
<p>PC全体で最新版が使えるように設定します。</p>
<p>ターミナルに「asdf global flutter 3.0.5-stable」と入力しエンターキーを押します。その後、バージョン確認も行います。</p>
<div class="cmd-code">
<span class="caption">asdfで使用するFlutterバージョンの指定</span>
<pre class="list"> &gt; asdf global flutter 3.0.5-stable
 &gt; flutter --version
 Flutter 3.0.5 • channel stable • https://github.com/flutter/flutter.git
 Framework • revision f1875d570e (4 weeks ago) • 2022-07-13 11:24:16 -0700
 Engine • revision e85ea0e79c
 Tools • Dart 2.17.6 • DevTools 2.12.2

 ╔════════════════════════════════════════════════════════════════════════════╗
 ║                 Welcome to Flutter! - https://flutter.dev                  ║
 ║                                                                            ║
 ║ The Flutter tool uses Google Analytics to anonymously report feature usage ║
 ║ statistics and basic crash reports. This data is used to help improve      ║
 ║ Flutter tools over time.                                                   ║
 ║                                                                            ║
 ║ Flutter tool analytics are not sent on the very first run. To disable      ║
 ║ reporting, type 'flutter config --no-analytics'. To display the current    ║
 ║ setting, type 'flutter config'. If you opt out of analytics, an opt-out    ║
 ║ event will be sent, and then no further information will be sent by the    ║
 ║ Flutter tool.                                                              ║
 ║                                                                            ║
 ║ By downloading the Flutter SDK, you agree to the Google Terms of Service.  ║
 ║ Note: The Google Privacy Policy describes how data is handled in this      ║
 ║ service.                                                                   ║
 ║                                                                            ║
 ║ Moreover, Flutter includes the Dart SDK, which may send usage metrics and  ║
 ║ crash reports to Google.                                                   ║
 ║                                                                            ║
 ║ Read about data we send with crash reports:                                ║
 ║ https://flutter.dev/docs/reference/crash-reporting                         ║
 ║                                                                            ║
 ║ See Google's privacy policy:                                               ║
 ║ https://policies.google.com/privacy                                        ║
 ╚════════════════════════════════════════════════════════════════════════════╝
</pre>
</div>
<p>asdfコマンドで「global」指定をしたので、PCのどのフォルダでも「3.0.5-stable」が使われます。プロジェクト毎に別なバージョンを使い対場合には、「global」の代わりにプロジェクトフォルダへ移動し「asdf local flutter使用するバージョン」をターミナルに入力しエンターキーを押します。</p>
<p><br /></p>
<p>全体を「2.10.5-stable」に切り替えて確認します。</p>
<div class="cmd-code">
<span class="caption">Flutter 2.10.5-stableへ切替</span>
<pre class="list"> &gt; asdf local flutter 2.10.5-stable

 &gt; flutter --version <span class="balloon">← バージョン確認</span>
╔════════════════════════════════════════════════════════════════════════════╗
║ A new version of Flutter is available!                                     ║
║                                                                            ║
║ To update to the latest version, run &quot;flutter upgrade&quot;.                    ║
╚════════════════════════════════════════════════════════════════════════════╝


Flutter 2.10.5 • channel stable • https://github.com/flutter/flutter.git
Framework • revision 5464c5bac7 (4 months ago) • 2022-04-18 09:55:37 -0700
Engine • revision 57d3bac3dd
Tools • Dart 2.16.2 • DevTools 2.9.2
</pre>
</div>
<p><br /></p>
<p>バージョンが「2.10.5」と表示され、新しいバージョンがあることも表示しています。</p>
<p><br /></p>
<p>最新版を使うよう戻します。</p>
<div class="cmd-code">
<span class="caption">Flutterバージョン切り替え</span>
<pre class="list"> &gt; asdf global flutter 3.0.5-stable
 &gt; flutter --version
 Flutter 3.0.5 • channel stable • https://github.com/flutter/flutter.git
 Framework • revision f1875d570e (6 weeks ago) • 2022-07-13 11:24:16 -0700
 Engine • revision e85ea0e79c
 Tools • Dart 2.17.6 • DevTools 2.12.2
</pre>
</div>
<p><br /></p>
<p>複数のFlutterバージョンをインストールしましたが、いったいどこのフォルダへ、どのようにインストールされているのでしょうか？Finderで確認すると、以下のようにインストールされています。</p>
<div id="asdf02" class="image">
<img src="images/05-flutter/asdf02.png" alt="flutterの複数バージョンのインストール状況" class="img width-070per" />
<p class="caption">
図5.1: flutterの複数バージョンのインストール状況
</p>
</div>
<p><br /></p>
<p>flutterをインストールできましたので、flutter開発環境の内容を、flutterコマンドで確認します。ターミナルに「flutter doctor」と入力しエンターキーを押すのですが、より詳しく表示されるように「-v」オプションを付けて確認してみます。</p>
<div class="cmd-code">
<span class="caption">flutter doctor -v</span>
<pre class="list"> &gt; flutter doctor -v
 Running &quot;flutter pub get&quot; in flutter_tools...                       5.1s
 [✓] Flutter (Channel stable, 3.0.5, on macOS 12.5 21G72 darwin-arm, locale en-CA)
     • Flutter version 3.0.5 at /Users/ユーザー名/.asdf/installs/flutter/3.0.5-stable
     • Upstream repository https://github.com/flutter/flutter.git
     • Framework revision f1875d570e (5 weeks ago), 2022-07-13 11:24:16 -0700
     • Engine revision e85ea0e79c
     • Dart version 2.17.6
     • DevTools version 2.12.2

 [✗] Android toolchain - develop for Android devices
     ✗ Unable to locate Android SDK.
     Install Android Studio from: https://developer.android.com/studio/index.html
     On first launch it will assist you in installing the Android SDK components.
     (or visit https://flutter.dev/docs/get-started/install/macos#android-setup for detailed instructions).
     If the Android SDK has been installed to a custom location, please use
     `flutter config --android-sdk` to update to that location.

 [✗] Xcode - develop for iOS and macOS
     ✗ Xcode installation is incomplete; a full installation is necessary for iOS development.
     Download at: https://developer.apple.com/xcode/download/
     Or install Xcode via the App Store.
     Once installed, run:
     sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
     sudo xcodebuild -runFirstLaunch
     ✗ CocoaPods not installed.
     CocoaPods is used to retrieve the iOS and macOS platform side's plugin code that responds to your plugin usage on the Dart side.
     Without CocoaPods, plugins will not work on iOS or macOS.
     For more info, see https://flutter.dev/platform-plugins
     To install see https://guides.cocoapods.org/using/getting-started.html#installation for instructions.

 [✓] Chrome - develop for the web
     • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome

 [!] Android Studio (not installed)
     • Android Studio not found; download from https://developer.android.com/studio/index.html
    (or visit https://flutter.dev/docs/get-started/install/macos#android-setup for detailed instructions).

 [✓] Connected device (2 available)
     • macOS (desktop) • macos  • darwin-arm64   • macOS 12.5 21G72 darwin-arm
     • Chrome (web)    • chrome • web-javascript • Google Chrome 104.0.5112.79

 [✓] HTTP Host Availability
     • All required HTTP hosts are available

 ! Doctor found issues in 3 categories.
</pre>
</div>
<p><br /></p>
<p>現時点では、3つのカテゴリに問題があると表示されています。内容は、バツが付いているものです。</p>
<ol start="1" type="1">
<li>Android toolchain</li>
<li>Xcode</li>
<li>Android studio</li>
</ol>
<p>となっています。</p>
<p>これを、順番に解決すればFlutter開発環境の作成が完了となります。</p>

        </main>
        <nav class="page-navi">
          <a href="04-asdf.html" class="page-prev">&#9664;</a>
          <a href="06-xcodes.html" class="page-next">&#9654;</a>
        </nav>
        <footer>
        </footer>
      </div>
    </div>
    <script>
function rebuildAndReloadForcedly() {
  fetch('/rebuild.js').then((resp)=>{
    resp.text().then((text)=>{ eval(text); });
  });
}
    </script>
    <script src="/rebuild.js?file=05-flutter.re"></script>
  </body>
</html>
<!-- layout.html5.erb -->
